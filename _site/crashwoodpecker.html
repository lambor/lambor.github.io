<html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Crashwoodpecker</title><meta name="twitter:card" content="summary" /><meta name="twitter:site" content="@drak11t" /><meta name="twitter:title" content="Crashwoodpecker" /><meta name="twitter:description" content="因为我的 Android Studio 在使用的过程中, 经常会出现 App 崩溃了, 而 AS 自带的 logcat 并没有搜集到异常信息, 特别烦恼, 怎么折腾怎么重连都不痛快, 特别是对于那种 “启动崩” 的异常, 很难马上捕捉到, 丢失也是经常的."><meta name="description" content="因为我的 Android Studio 在使用的过程中, 经常会出现 App 崩溃了, 而 AS 自带的 logcat 并没有搜集到异常信息, 特别烦恼, 怎么折腾怎么重连都不痛快, 特别是对于那种 “启动崩” 的异常, 很难马上捕捉到, 丢失也是经常的."><link rel="icon" href="/assets/favicon.png"><link rel="apple-touch-icon" href="/assets/gravatar.png"><link rel="stylesheet" href="//code.cdn.mozilla.net/fonts/fira.css"><link rel="stylesheet" href="/assets/core.css"><link rel="canonical" href="/crashwoodpecker"><link rel="alternate" type="application/atom+xml" title="Black history of Drakeet" href="/feed.xml" /></head><body><aside class="logo"> <a href="/"> <img class="gravatar" width="80px" height="80px" src="/assets/gravatar.png"> </a> <span class="logo-prompt">返回</span></aside><main> <noscript><style> article .footnotes { display: block; }</style></noscript><article><div class="center"><h1>Crashwoodpecker</h1><time>9 2, 2015</time></div><div class="divider"></div><p><img src="/assets/img/2015-09-02-crashwoodpecker.png" alt="CrashWoodpecker" /><br /> 因为我的 Android Studio 在使用的过程中, 经常会出现 App 崩溃了, 而 AS 自带的 <code class="highlighter-rouge">logcat</code> 并没有搜集到异常信息, 特别烦恼, 怎么折腾怎么重连都不痛快, 特别是对于那种 “启动崩” 的异常, 很难马上捕捉到, 丢失也是经常的.</p><p>所以我做了这么一个库, 仿造 Square 检测并展示内存泄露的 LeakCanary. 当开发过程中, 如果有没有处理的异常导致 crash, 使用了 CrashWoodpecker 以后, 便会起一个新的美观页面, 以很友好的方式即时展示异常信息. 更多内容可以参看一下我写在 GitHub 的文档:</p><h4 id="crashwoodpecker">CrashWoodpecker</h4><p>An uncaught exception handler library like Square’s <a href="https://github.com/square/leakcanary">LeakCanary</a>.</p><h4>Getting started</h4><p><strong>NOTE: There is a big bug before VERSION 0.9.5, QAQ thank goodness, it has been fixed in version 0.9.5, please update to 0.9.5+.</strong></p><p>In your build.gradle:</p><div class="highlighter-rouge"><pre class="highlight"><code><span class="n">dependencies</span> <span class="o">{</span>
<span class="err"> </span> <span class="n">debugCompile</span> <span class="s1">'me.drakeet.library:crashwoodpecker:0.9.7'</span>
  <span class="n">releaseCompile</span> <span class="s1">'me.drakeet.library:crashwoodpecker-do-nothing:0.9.7'</span>
<span class="o">}</span>
</code></pre></div><p>In your Application class:</p><div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ExampleApplication</span> <span class="kd">extends</span> <span class="n">Application</span> <span class="o">{</span>

  <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="n">onCreate</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">();</span>
    <span class="n">CrashWoodpecker</span><span class="o">.</span><span class="na">fly</span><span class="o">().</span><span class="na">to</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><p>And in your AndroidManifest.xml file:</p><div class="highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;application</span>
    <span class="na">android:name=</span><span class="s">".ExampleApplication"</span> <span class="err">//</span> <span class="err">&lt;--</span>
    <span class="err">...</span>
    <span class="err">...</span><span class="nt">&gt;</span>
<span class="nt">&lt;/application&gt;</span>
</code></pre></div><p><strong>That is all!</strong> CrashWoodpecker will automatically show an Activity when your app crash with uncaught exceptions in your debug build.</p><p><a href="http://drakeet.me/wp-content/uploads/2015/09/7BDF054B-21AE-4A66-ACBF-6A51B1A0FA96.jpg"><img class="alignnone wp-image-1086" src="http://drakeet.me/wp-content/uploads/2015/09/7BDF054B-21AE-4A66-ACBF-6A51B1A0FA96.jpg" alt="7BDF054B-21AE-4A66-ACBF-6A51B1A0FA96" width="141" height="63" /></a></p><p><em>Demo apk download: <a href="https://github.com/drakeet/CrashWoodpecker/releases/download/0.9.6/LittleWood.apk" target="_blank">LittleWood.apk</a></em></p><p>源代码: <a href="https://github.com/drakeet/CrashWoodpecker" target="_blank">https://github.com/drakeet/CrashWoodpecker</a></p></article></main></body></html>